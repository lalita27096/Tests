package com.team22.backend.Controller;
import com.team22.backend.Entity.*;
import com.team22.backend.Repository.*;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.web.bind.annotation.*;
import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.Collection;
import java.util.Date;
import java.util.stream.Collectors;

@RestController
@CrossOrigin(origins = "http://localhost:4200")

public class HistoryReviewController {
    @Autowired
    private HistoryReviewRepository historyReviewRepository;
    @Autowired
    private CustomerRepository customerRepository;
    @Autowired
    private PayMentRepository payMentRepository;
    @Autowired
    private ReviewRepository reviewRepository;

    public HistoryReviewController(HistoryReviewRepository HistoryReviewRepository,CustomerRepository customerRepository,PayMentRepository payMentRepository, ReviewRepository reviewRepository) {
        this.historyReviewRepository = historyReviewRepository;
        this.customerRepository = customerRepository;
        this.payMentRepository = payMentRepository;
        this.reviewRepository = reviewRepository;
    }
    @GetMapping("/HistoryReview")
    public Collection<HistoryReview> historyReview() {
        return historyReviewRepository.findAll().stream()
                .collect(Collectors.toList());
    }
}